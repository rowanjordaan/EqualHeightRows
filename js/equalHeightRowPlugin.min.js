!function(t){t.fn.equalHeightRows=function(e){var i=t(this),s={settings:{}};s.settings=t.extend({onInit:null,onResize:null,itemSelector:".item",innerSelectors:null,wrapRows:!1,resizeTimeout:150,stoppedResizingresizeTimeout:150},e);var n=function(e){var i=0;e.css({height:"auto"}),e.length>1&&(e.each(function(){var e=t(this).outerHeight();i=e>=i?e:i}),e.css({height:i+"px"}))},o=function(e){var i={};i.selector=t(e),i.items=i.selector.find(s.settings.itemSelector),i.itemAmount=i.items.length,i.rowsData={},i.rowsItems={};var o=0,r=1,a=0,c=i.selector.width();return(s.settings.wrapRows||t(i.selector).find('[data-type="row"]:nth-child(1)').length>0)&&t(i.selector).find('[data-type="row"]').contents().unwrap(),i.items.each(function(e,n){i.rowsData["row"+r]={lastItem:e+1};var l,u;if(l=parseFloat(t(n).css("width")),u=parseFloat(i.selector.find(s.settings.itemSelector+":nth-child("+(e+2)+")").css("width")),(a+=l)>=c||e+1>=i.itemAmount||Math.floor(a+u)>c){var w=0==o?i.rowsData["row"+r].lastItem:i.rowsData["row"+r].lastItem-i.rowsData["row"+o].lastItem,m=i.rowsData["row"+r].lastItem-w+1;i.rowsData["row"+r].firstItem=m,i.rowsItems["row"+r]=i.items.filter(s.settings.itemSelector+":nth-child(n+"+m+"):nth-child(-n+"+i.rowsData["row"+r].lastItem+")"),o=r,r++,a=0}}),t.each(i.rowsItems,function(e,i){if(n(i),s.settings.wrapRows&&i.wrapAll('<div class="'+s.settings.wrapRows+" "+e+'" data-type="row"></div>'),null!=s.settings.innerSelectors){var o=s.settings.innerSelectors.split(",");t.each(o,function(t,e){n(i.find(e)),n(i)})}}),i};return s.execute=function(e){var s={};return e=void 0!==e&&e,i.each(function(i,n){(!1===e||!1!==e&&t(n).is(e))&&(s[i]=o(t(n)))}),s},this.each(function(e,i){var n,r={data:{}},a=!1,c=!1,l=function(){o(i),t.isFunction(s.settings.onResize)&&s.settings.onResize(r)};return t(window).on("resize",function(){var t;return clearTimeout(n),s.settings.resizeTimeout>0&&!1!==s.settings.resizeTimeout?!1===a?(l(),a=!0,!0):(!1===c&&(t=setTimeout(function(){return a=!1,c=!1,l(),!0},s.settings.resizeTimeout)),c=!0,n=setTimeout(function(){return l(),clearTimeout(t),!0},s.settings.stoppedResizingresizeTimeout),!1):(l(),!0)}),r.Initialize=function(){r.data=o(i),t.isFunction(s.settings.onInit)&&s.settings.onInit(r)},r.Initialize()}),s}}(jQuery);
