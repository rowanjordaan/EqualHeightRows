!function(t){t.fn.equalHeightRows=function(e){var o=t.extend({onInit:null,onResize:null,itemSelector:".item",innerSelectors:null},e),r={},i=function(e){var o=0;e.css({height:"auto"}),e.each(function(){var e=t(this).outerHeight();o=e>=o?e:o}),e.css({height:o+"px"})};return r.execute=function(e){$selector=t(e),$items=$selector.find(o.itemSelector);var r=$selector.width(),n={};return n.itemAmount=$items.length,n.rowsData={},n.rowspreviousRow=0,n.rowscurrentRow=1,n.rowsitemWidthCount=0,$items.each(function(e,i){if(n.rowsData["row"+n.rowscurrentRow]={},n.rowsData["row"+n.rowscurrentRow].lastItem=e+1,c=parseFloat(t(i).css("width")),a=parseFloat($selector.find(o.itemSelector+":nth-child("+(e+2)+")").css("width")),n.rowsitemWidthCount=n.rowsitemWidthCount+c,n.rowsitemWidthCount>=r||e+1>=n.itemAmount||Math.floor(n.rowsitemWidthCount+a)>r){var s=0==n.rowspreviousRow?n.rowsData["row"+n.rowscurrentRow].lastItem:n.rowsData["row"+n.rowscurrentRow].lastItem-n.rowsData["row"+n.rowspreviousRow].lastItem,w=n.rowsData["row"+n.rowscurrentRow].lastItem-s+1;n.rowsData["row"+n.rowscurrentRow].firstItem=w,n.rowspreviousRow=n.rowscurrentRow,n.rowscurrentRow++,n.rowsitemWidthCount=0}var c,a}),t.each(n.rowsData,function(e,r){var n=$items.filter(o.itemSelector+":nth-child(n+"+r.firstItem+"):nth-child(-n+"+r.lastItem+")");if(i(n),null!=o.innerSelectors){var s=o.innerSelectors.split(",");t.each(s,function(t,e){i(n.find(e)),i(n)})}}),n},this.each(function(e,i){var n={};n.selector=t(i),n.items=n.selector.find(o.itemSelector),t(window).on("resize",function(){r.execute(i),t.isFunction(o.onResize)&&o.onResize(n)}),n.Initialize=function(){r.execute(i),t.isFunction(o.onInit)&&o.onInit(n)},n.Initialize()}),r}}(jQuery);
